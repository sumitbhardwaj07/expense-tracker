(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],[,,,,,,,,function(e,t,s){e.exports={auth:"AuthForm_auth__3vq93",control:"AuthForm_control__Ev5Gj",actions:"AuthForm_actions__3gPC9",toggle:"AuthForm_toggle__2MhoK"}},,,,function(e,t,s){e.exports={"modal-content":"ForgotPassword_modal-content__2t8vn","modal-header":"ForgotPassword_modal-header__23dZC","modal-title":"ForgotPassword_modal-title__EohYw","modal-body":"ForgotPassword_modal-body__1ook1","form-group":"ForgotPassword_form-group__1aQt5",label:"ForgotPassword_label__2fizZ",input:"ForgotPassword_input__25Wvo",alert:"ForgotPassword_alert__3e_Og",button:"ForgotPassword_button__2tbsd"}},function(e,t,s){e.exports={form:"ProfileForm_form__2hWxR",control:"ProfileForm_control__1ECza",action:"ProfileForm_action__1nxH5"}},,,function(e,t,s){e.exports={backdrop:"Modal_backdrop__3wAAs",modal:"Modal_modal__3U3AI",content:"Modal_content__zuwE6"}},,function(e,t,s){e.exports={header:"MainNavigation_header__3VQ_3",logo:"MainNavigation_logo__2B_dE"}},function(e,t,s){e.exports={homePageContainer:"HomePage_homePageContainer__3jEtM",welcomeMessage:"HomePage_welcomeMessage__2Wn_Q"}},,,,,function(e,t,s){e.exports={profile:"UserProfile_profile__1FS1Y"}},,,,,,,,function(e,t,s){},,,function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){"use strict";s.r(t);var a=s(22),c=s.n(a),n=s(7),r=(s(32),s(3)),o=s(4),l=s(0),i=s.n(l),d=s(10);const j=localStorage.getItem("authState")?JSON.parse(localStorage.getItem("authState")):{token:null,userId:null,isLoggedIn:!1,showForgotPasswordModal:!1,showResetPasswordModal:!1},b=Object(d.b)({name:"auth",initialState:j,reducers:{login(e,t){e.token=t.payload.token,e.userId=t.payload.userId,e.isLoggedIn=!0,localStorage.setItem("authState",JSON.stringify(e))},logout(e){e.token=null,e.userId=null,e.isLoggedIn=!1,localStorage.removeItem("authState")},showForgotPassword(e){e.showForgotPasswordModal=!0},hideForgotPassword(e){e.showForgotPasswordModal=!1},showResetPassword(e){e.showResetPasswordModal=!0},hideResetPassword(e){e.showResetPasswordModal=!1}}}),{login:h,logout:u,showForgotPassword:x,hideForgotPassword:p,showResetPassword:O,hideResetPassword:m}=b.actions;var g=b.reducer,v=s(18),w=s.n(v);const f="https://expense-tracker-gogm.onrender.com";var y=s(1);var _=()=>{const e=Object(o.b)(),t=Object(r.p)(),s=Object(o.c)((e=>e.auth.token)),a=Object(o.c)((e=>e.auth.isLoggedIn));return Object(y.jsxs)("header",{className:w.a.header,children:[Object(y.jsx)(n.b,{to:"/",children:Object(y.jsx)("div",{className:w.a.logo,children:"Expense Tracker"})}),Object(y.jsx)("nav",{children:Object(y.jsxs)("ul",{children:[!a&&Object(y.jsx)("li",{children:Object(y.jsx)(n.b,{to:"/auth",children:"Login"})}),a&&Object(y.jsx)("li",{children:Object(y.jsx)(n.b,{to:"/",children:"Home"})}),a&&Object(y.jsx)("li",{children:Object(y.jsx)(n.b,{to:"/profile",children:"Profile"})}),a&&Object(y.jsx)("li",{children:Object(y.jsx)("button",{onClick:async()=>{try{(await fetch("".concat(f,"/api/v1/users/logout"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)},credentials:"include"})).ok?(t("/auth"),e(u())):console.error("Failed to log out")}catch(a){console.error("Logout error:",a)}},children:"Logout"})})]})})]})};var N=e=>Object(y.jsxs)(l.Fragment,{children:[Object(y.jsx)(_,{}),Object(y.jsx)("main",{children:e.children})]}),E=s(13),F=s.n(E);var P=()=>{const e=Object(l.useRef)(),t=Object(l.useRef)(),s=Object(o.c)((e=>e.auth.token)),a=Object(o.b)();return Object(y.jsxs)("form",{className:F.a.form,onSubmit:async c=>{c.preventDefault();const n=t.current.value,r=e.current.value;try{const e=await fetch("".concat(f,"/api/v1/users/changepassword"),{method:"POST",body:JSON.stringify({currentpassword:n,newpassword:r}),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)}});if(!e.ok){const t=await e.json();let s="Password update failed!";throw t&&t.error&&t.error.message&&(s=t.error.message),new Error(s)}const t=await e.json();a(h({token:t.idToken,userId:t.localId})),alert("Password has been updated successfully")}catch(o){alert(o.message)}},children:[Object(y.jsxs)("div",{className:F.a.control,children:[Object(y.jsx)("label",{htmlFor:"current-password",children:"Current Password"}),Object(y.jsx)("input",{type:"password",id:"current-password",minLength:"6",ref:t})]}),Object(y.jsxs)("div",{className:F.a.control,children:[Object(y.jsx)("label",{htmlFor:"new-password",children:"New Password"}),Object(y.jsx)("input",{type:"password",id:"new-password",minLength:"6",ref:e})]}),Object(y.jsx)("div",{className:F.a.action,children:Object(y.jsx)("button",{children:"Change Password"})})]})},S=s(24),C=s.n(S);var k=()=>Object(y.jsxs)("section",{className:C.a.profile,children:[Object(y.jsx)("h1",{children:"Your User Profile"}),Object(y.jsx)(P,{})]}),T=s(8),I=s.n(T);var A=()=>{const e=Object(l.useRef)(),t=Object(l.useRef)(),s=Object(l.useRef)(),a=Object(o.b)(),[c,n]=Object(l.useState)(!0),[r,i]=Object(l.useState)(!1),[d,j]=Object(l.useState)(""),[b,u]=Object(l.useState)(!1),[x,p]=Object(l.useState)(""),[O,m]=Object(l.useState)("");return Object(y.jsxs)("section",{className:I.a.auth,children:[Object(y.jsx)("h1",{children:c?"Login":"Sign Up"}),x&&Object(y.jsx)("p",{className:I.a.error,children:x}),O&&Object(y.jsx)("p",{className:I.a.success,children:O}),Object(y.jsxs)("form",{onSubmit:async o=>{o.preventDefault();const l=e.current.value,b=t.current.value,O=s.current?s.current.value:null;if(u(!0),p(""),m(""),c)try{const e=await fetch("".concat(f,"/api/v1/users/login"),{method:"POST",body:JSON.stringify({email:l,password:b}),headers:{"Content-Type":"application/json"}}),t=await e.json();if(!t.success)throw new Error(t.message||"Failed to log in.");m("Login successful!"),a(h({token:t.data.accessToken,userId:t.data.user._id,email:t.data.user.email}))}catch(x){p(x.message)}else if(r)try{const e=await fetch("".concat(f,"/api/v1/users/verify-otp"),{method:"POST",body:JSON.stringify({email:l,password:b,otp:O,otpToken:d}),headers:{"Content-Type":"application/json"}}),t=await e.json();if(!t.success)throw new Error(t.message||"Failed to register.");m("Registration successful!"),n(!0)}catch(x){p(x.message)}else try{const e=await fetch("".concat(f,"/api/v1/users/send-otp"),{method:"POST",body:JSON.stringify({email:l}),headers:{"Content-Type":"application/json"}}),t=await e.json();if(!t.success)throw new Error(t.message||"Failed to send OTP.");i(!0),j(t.otpToken),m("OTP sent to your email.")}catch(x){p(x.message)}u(!1)},children:[Object(y.jsxs)("div",{className:I.a.control,children:[Object(y.jsx)("label",{htmlFor:"email",children:"Your Email"}),Object(y.jsx)("input",{type:"email",id:"email",required:!0,ref:e,disabled:b})]}),Object(y.jsxs)("div",{className:I.a.control,children:[Object(y.jsx)("label",{htmlFor:"password",children:"Your Password"}),Object(y.jsx)("input",{type:"password",id:"password",required:!0,ref:t,disabled:b})]}),!c&&r&&Object(y.jsxs)("div",{className:I.a.control,children:[Object(y.jsx)("label",{htmlFor:"otp",children:"OTP"}),Object(y.jsx)("input",{type:"text",id:"otp",required:!0,ref:s,disabled:b})]}),Object(y.jsxs)("div",{className:I.a.actions,children:[!b&&Object(y.jsx)("button",{type:"submit",children:c?"Login":r?"Register":"Send OTP"}),b&&Object(y.jsx)("p",{children:"Sending request..."}),Object(y.jsx)("button",{type:"button",className:I.a.toggle,onClick:()=>{n((e=>!e)),i(!1),m(""),p("")},children:c?"Create new account":"Login with existing account"})]})]})]})};var M=()=>Object(y.jsx)(A,{}),R=s(43),D=s(19),L=s.n(D);const Y=Object(d.b)({name:"expenses",initialState:{expenses:[],editingExpense:null,isEditing:!1,showNewExpenseForm:!1},reducers:{addExpense(e,t){e.expenses.push(t.payload)},deleteExpense(e,t){e.expenses=e.expenses.filter((e=>e.id!==t.payload))},updateExpense(e,t){const s=e.expenses.findIndex((e=>e.id===t.payload.id));-1!==s&&(e.expenses[s]=t.payload)},setEditingExpenses(e,t){e.editingExpense=t.payload},setIsEditing(e,t){e.isEditing=t.payload},setShowNewExpenseForm(e,t){e.showNewExpenseForm=t.payload},setExpenses(e,t){e.expenses=t.payload}}}),{addExpense:J,deleteExpense:q,updateExpense:H,setEditingExpenses:U,setIsEditing:z,setExpenses:B,setShowNewExpenseForm:V}=Y.actions;var W=Y.reducer;s(35);var Q=e=>{let{expense:t,EditHandler:s}=e;const[a,c]=Object(l.useState)(t);Object(l.useEffect)((()=>{c(t)}),[t]);const n=e=>{const{name:t,value:s}=e.target;c({...a,[t]:s})};return Object(y.jsx)("form",{onSubmit:e=>{e.preventDefault(),s(a)},children:Object(y.jsxs)("div",{className:"new-expense__controls",children:[Object(y.jsxs)("div",{className:"new-expense__control",children:[Object(y.jsx)("label",{htmlFor:"amount",children:"Amount"}),Object(y.jsx)("input",{id:"amount",type:"number",min:"1",step:"1",name:"amount",required:!0,value:a.amount,onChange:n})]}),Object(y.jsxs)("div",{className:"new-expense__control",children:[Object(y.jsx)("label",{htmlFor:"description",children:"Description"}),Object(y.jsx)("input",{id:"description",name:"description",required:!0,value:a.description,onChange:n})]}),Object(y.jsxs)("div",{className:"new-expense__control",children:[Object(y.jsx)("label",{children:"Date"}),Object(y.jsx)("input",{type:"date",min:"2019-01-01",max:"2030-12-31",name:"date",value:a.date,onChange:e=>{const t=e.target.value;c({...a,date:t})}})]}),Object(y.jsxs)("div",{className:"new-expense__control",children:[Object(y.jsx)("label",{htmlFor:"category",children:"Category"}),Object(y.jsxs)("select",{id:"category",name:"category",required:!0,value:a.category,onChange:n,children:[Object(y.jsx)("option",{value:"Food",children:"Food"}),Object(y.jsx)("option",{value:"Petrol",children:"Petrol"}),Object(y.jsx)("option",{value:"Fitness",children:"Fitness"}),Object(y.jsx)("option",{value:"Entertainment",children:"Entertainment"}),Object(y.jsx)("option",{value:"Utilities",children:"Utilities"}),Object(y.jsx)("option",{value:"Travel",children:"Travel"}),Object(y.jsx)("option",{value:"Healthcare",children:"Healthcare"}),Object(y.jsx)("option",{value:"Education",children:"Education"})]})]}),Object(y.jsx)("div",{className:"new-expense__actions",children:Object(y.jsx)("button",{type:"submit",children:"Submit"})})]})})};var G=e=>{let{fetchExpenses:t}=e;const[s,a]=Object(l.useState)(5),c=Object(o.b)(),n=Object(o.c)((e=>e.expenses.expenses)),r=Object(o.c)((e=>e.expenses.isEditing)),i=Object(o.c)((e=>e.expenses.editingExpense)),d=Object(o.c)((e=>e.filter.filteredYear)),j=n.filter((e=>new Date(e.date).getFullYear().toString()===d)).slice(0,s),b=Object(o.c)((e=>e.auth.token));Object(l.useEffect)((()=>{const e=localStorage.getItem("expenseCount");e&&a(parseInt(e))}),[]);const h=j.reduce(((e,t)=>e+parseFloat(t.amount)),0),u=e=>({month:e.toLocaleString("en-US",{month:"long"}),day:e.toLocaleString("en-US",{day:"2-digit"}),year:e.getFullYear()});return Object(y.jsxs)("div",{className:"expense-list-container",children:[Object(y.jsx)("h2",{children:"Expenses List"}),Object(y.jsxs)("div",{className:"expense-count-selector",children:[Object(y.jsx)("label",{htmlFor:"expenseCount",children:"Show expenses:"}),Object(y.jsx)("select",{id:"expenseCount",value:s,onChange:e=>{const t=parseInt(e.target.value);a(t),localStorage.setItem("expenseCount",t)},children:[5,10,15,20].map((e=>Object(y.jsx)("option",{value:e,children:e},e)))})]}),Object(y.jsxs)("table",{className:"expense-table",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{children:Object(y.jsx)("div",{className:"date-box-container",children:Object(y.jsxs)("div",{className:"date-box",children:[Object(y.jsx)("div",{className:"month",children:"Month"}),Object(y.jsx)("div",{className:"year",children:"Year"}),Object(y.jsx)("div",{className:"day",children:"Day"})]})})}),Object(y.jsx)("th",{children:"Description"}),Object(y.jsx)("th",{children:"Price"}),Object(y.jsx)("th",{children:"Category"}),Object(y.jsx)("th",{children:"Actions"})]})}),Object(y.jsxs)("tbody",{children:[j.map((e=>Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:Object(y.jsx)("div",{className:"date-box-container",children:Object(y.jsxs)("div",{className:"date-box",children:[Object(y.jsx)("div",{className:"month",children:u(new Date(e.date)).month}),Object(y.jsx)("div",{className:"year",children:u(new Date(e.date)).year}),Object(y.jsx)("div",{className:"day",children:u(new Date(e.date)).day})]})})}),Object(y.jsx)("td",{children:e.description}),Object(y.jsxs)("td",{children:["Rs",e.amount]}),Object(y.jsx)("td",{children:e.category}),Object(y.jsxs)("td",{children:[Object(y.jsx)("button",{onClick:()=>(async e=>{try{if(!(await fetch("".concat(f,"/api/v1/expenses/").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(b),credentials:"include"}})).ok)throw new Error("Failed to delete expense");alert("Expense successfully deleted"),t()}catch(s){console.error(s)}})(e.id),children:"Delete"}),Object(y.jsx)("button",{onClick:()=>(e=>{c(U(e)),c(z(!0))})(e),children:"Edit"})]})]},e.id))),Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{colSpan:"2"}),Object(y.jsx)("td",{children:Object(y.jsxs)("strong",{style:{color:"white"},children:["Total:Rs",h]})}),Object(y.jsx)("td",{colSpan:"2"})]})]})]}),r&&Object(y.jsxs)("div",{className:"edit-form-container",children:[Object(y.jsx)("h2",{children:"Edit Expense"}),Object(y.jsx)(Q,{expense:i,EditHandler:async e=>{try{if(!(await fetch("".concat(f,"/api/v1/expenses/").concat(e.id),{method:"PUT",body:JSON.stringify({amount:e.amount,description:e.description,date:e.date,category:e.category}),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(b),credentials:"include"}})).ok)throw new Error("Failed to update expense");alert("Expense successfully updated"),t()}catch(s){console.error(s)}c(z(!1))}})]})]})};s(36),s(37);var Z=()=>{const e=Object(o.b)(),[t,s]=Object(l.useState)(""),[a,c]=Object(l.useState)(""),[n,r]=Object(l.useState)(""),[i,d]=Object(l.useState)("Food"),j=Object(o.c)((e=>e.auth.token)),b=()=>{e(V(!1))};return Object(y.jsx)("form",{onSubmit:async s=>{s.preventDefault();try{const s=await fetch("".concat(f,"/api/v1/expenses/create"),{method:"POST",body:JSON.stringify({amount:t,description:a,date:n,category:i}),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(j),credentials:"include"}});if(!s.ok){const e=await s.json();let t="Failed to add expense!";throw e&&e.error&&(t=e.error),new Error(t)}const c=await s.json();console.log(c),e(J({amount:t,description:a,date:n,category:i})),alert("Expense added successfully"),b()}catch(c){console.log(c.message)}},children:Object(y.jsxs)("div",{className:"new-expense__controls",children:[Object(y.jsxs)("div",{className:"new-expense__control",children:[Object(y.jsx)("label",{htmlFor:"amount",children:"Amount"}),Object(y.jsx)("input",{id:"amount",type:"number",min:"1",step:"1",required:!0,value:t,onChange:e=>s(e.target.value)})]}),Object(y.jsxs)("div",{className:"new-expense__control",children:[Object(y.jsx)("label",{htmlFor:"description",children:"Description"}),Object(y.jsx)("input",{id:"description",required:!0,value:a,onChange:e=>c(e.target.value)})]}),Object(y.jsxs)("div",{className:"new-expense__control",children:[Object(y.jsx)("label",{children:"Date"}),Object(y.jsx)("input",{type:"date",min:"2019-01-01",max:"2030-12-31",value:n,onChange:e=>r(e.target.value)})]}),Object(y.jsxs)("div",{className:"new-expense__control",children:[Object(y.jsx)("label",{htmlFor:"category",children:"Category"}),Object(y.jsxs)("select",{id:"category",required:!0,value:i,onChange:e=>d(e.target.value),children:[Object(y.jsx)("option",{value:"Food",children:"Food"}),Object(y.jsx)("option",{value:"Petrol",children:"Petrol"}),Object(y.jsx)("option",{value:"Fitness",children:"Fitness"}),Object(y.jsx)("option",{value:"Entertainment",children:"Entertainment"}),Object(y.jsx)("option",{value:"Utilities",children:"Utilities"}),Object(y.jsx)("option",{value:"Travel",children:"Travel"}),Object(y.jsx)("option",{value:"Healthcare",children:"Healthcare"}),Object(y.jsx)("option",{value:"Education",children:"Education"})]})]}),Object(y.jsxs)("div",{className:"new-expense__actions",children:[Object(y.jsx)("button",{type:"button",onClick:b,children:"Cancel"}),Object(y.jsx)("button",{type:"submit",children:"Add Expense"})]})]})})};s(38);var K=()=>{const e=Object(o.b)(),t=Object(o.c)((e=>e.expenses.showNewExpenseForm));return Object(y.jsxs)("div",{className:"new-expense",children:[!t&&Object(y.jsx)("button",{onClick:()=>{e(V(!0))},children:"Add New Expense"}),t&&Object(y.jsx)(Z,{})]})};s(39);const X=Object(d.b)({name:"filter",initialState:{filteredYear:2023,filteredExpenses:[]},reducers:{setFilteredYear(e,t){e.filteredYear=t.payload}}}),{setFilteredYear:$}=X.actions;var ee=X.reducer;var te=()=>{const e=Object(o.b)(),t=Object(o.c)((e=>e.filter.filteredYear)),s=Array.from({length:31},((e,t)=>2e3+t));return Object(y.jsx)("div",{className:"expenses-filter",children:Object(y.jsxs)("div",{className:"expenses-filter__control",children:[Object(y.jsx)("label",{children:"Filter by year"}),Object(y.jsx)("select",{value:t,onChange:t=>{e($(t.target.value))},children:s.map((e=>Object(y.jsx)("option",{value:e,children:e},e)))})]})})};s(40);var se=e=>{let t="0%";return e.maxValue>0&&(t=Math.round(e.value/e.maxValue*100)+"%"),Object(y.jsxs)("div",{className:"chart-bar",children:[Object(y.jsx)("div",{className:"chart-bar__inner",children:Object(y.jsx)("div",{className:"chart-bar__fill",style:{height:t}})}),Object(y.jsx)("div",{className:"chart-bar__label",children:e.label})]})};s(41);var ae=e=>{const t=e.dataPoints.map((e=>e.value)),s=Math.max(...t);return Object(y.jsx)("div",{className:"chart",children:e.dataPoints.map((e=>Object(y.jsx)(se,{value:e.value,maxValue:s,label:e.label},e.label)))})};var ce=e=>{const t=Object(o.c)((e=>e.filter.filteredYear)),s=Object(o.c)((e=>e.expenses.expenses)).filter((e=>new Date(e.date).getFullYear().toString()===t)),a=[{label:"Jan",value:0},{label:"Feb",value:0},{label:"Mar",value:0},{label:"Apr",value:0},{label:"May",value:0},{label:"Jun",value:0},{label:"Jul",value:0},{label:"Aug",value:0},{label:"Sep",value:0},{label:"Oct",value:0},{label:"Nov",value:0},{label:"Dec",value:0}];for(const c of s){a[new Date(c.date).getMonth()].value+=parseFloat(c.amount)}return Object(y.jsx)(ae,{dataPoints:a})};var ne=()=>{const e=Object(o.b)(),t=Object(o.c)((e=>e.auth.token)),s=async()=>{try{const s=await fetch("".concat(f,"/api/v1/expenses/"),{method:"GET",headers:{Authorization:"Bearer ".concat(t),credentials:"include"}});if(!s.ok)throw new Error("Failed to fetch expenses");const a=await s.json(),c=[];for(const e in a.data)c.push({key:a.data[e]._id,id:a.data[e]._id,amount:a.data[e].amount,description:a.data[e].description,date:a.data[e].date,category:a.data[e].category});e(B(c))}catch(s){console.error(s)}};return Object(l.useEffect)((()=>{s()}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(K,{}),Object(y.jsxs)("div",{className:"new-expense",children:[Object(y.jsx)(te,{}),Object(y.jsx)(ce,{}),Object(y.jsx)(G,{fetchExpenses:s})]})]})};var re=()=>Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{className:L.a.homePageContainer,children:Object(y.jsx)(R.a,{children:Object(y.jsx)("div",{className:L.a.welcomeMessage,children:Object(y.jsx)("p",{children:"Welcome to Expense Tracker!!!"})})})}),Object(y.jsx)(ne,{})]}),oe=s(44),le=s(11),ie=s.n(le),de=s(16),je=s.n(de);const be=e=>Object(y.jsx)("div",{className:je.a.backdrop,onClick:e.onClose}),he=e=>Object(y.jsx)("div",{className:je.a.modal,children:Object(y.jsx)("div",{className:je.a.content,children:e.children})});var ue=e=>{const t=document.getElementById("overlays");return Object(y.jsxs)(i.a.Fragment,{children:[ie.a.createPortal(Object(y.jsx)(be,{onClose:e.onClose}),t),ie.a.createPortal(Object(y.jsx)(he,{children:e.children}),t)]})},xe=s(12),pe=s.n(xe);var Oe=()=>{const e=Object(l.useRef)(null),t=Object(l.useRef)(null),{token:s}=Object(r.r)(),[a,c]=Object(l.useState)(null),[n,i]=Object(l.useState)(null),d=Object(r.p)(),j=Object(o.b)();j(O());return Object(y.jsx)(ue,{onClose:()=>{j(m())},children:Object(y.jsxs)("form",{onSubmit:async a=>{a.preventDefault();const n=e.current.value;if(n===t.current.value)try{const e=await fetch("".concat(f,"/api/v1/forgotpass/resetpassword/").concat(s),{method:"PATCH",body:JSON.stringify({newPassword:n}),headers:{"Content-Type":"application/json"}});if(!e.ok){let t=(await e.json()).message||"Password reset failed.";throw new Error(t)}i("Password reset successfully."),alert("Password reset successfully."),d("/")}catch(r){c(r.message)}else c("Passwords do not match.")},className:pe.a["form-container"],children:[Object(y.jsx)("h2",{children:"Reset Your Password"}),Object(y.jsxs)("div",{children:[Object(y.jsx)("label",{htmlFor:"newpassword",children:"New Password:"}),Object(y.jsx)("input",{id:"newpassword",type:"password",required:!0,ref:e,className:pe.a["input-field"]})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("label",{htmlFor:"confirmpassword",children:"Confirm Password:"}),Object(y.jsx)("input",{id:"confirmpassword",type:"password",required:!0,ref:t,className:pe.a["input-field"]})]}),Object(y.jsx)(oe.a,{variant:"success",type:"submit",children:"Reset Password"}),a&&Object(y.jsx)("p",{className:pe.a["error-message"],children:a}),n&&Object(y.jsx)("p",{className:pe.a["success-message"],children:n})]})})};var me=function(){const e=Object(o.c)((e=>e.auth.isLoggedIn));return Object(y.jsx)(N,{children:Object(y.jsxs)(r.d,{children:[e&&Object(y.jsx)(r.b,{path:"/",element:Object(y.jsx)(re,{}),exact:!0}),!e&&Object(y.jsx)(r.b,{path:"/",element:Object(y.jsx)(M,{}),exact:!0}),!e&&Object(y.jsx)(r.b,{path:"/auth",element:Object(y.jsx)(M,{})}),e&&Object(y.jsx)(r.b,{path:"/profile",element:Object(y.jsx)(k,{})}),!e&&Object(y.jsx)(r.b,{path:"/resetpassword/:token",element:Object(y.jsx)(Oe,{})}),Object(y.jsx)(r.b,{path:"*",element:Object(y.jsx)(r.a,{replace:!0,to:"/"})})]})})};var ge=Object(d.a)({reducer:{auth:g,expenses:W,filter:ee}});c.a.createRoot(document.getElementById("root")).render(Object(y.jsx)(o.a,{store:ge,children:Object(y.jsx)(n.a,{children:Object(y.jsx)(me,{})})}))}],[[42,1,2]]]);
//# sourceMappingURL=main.099c684d.chunk.js.map